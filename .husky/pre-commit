# .husky/pre-commit
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Rodar ESLint
echo "ğŸ” Running ESLint..."
pnpm lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint falhou. Abortando commit."
  exit 1
fi

# Rodar testes unitÃ¡rios
echo "ğŸ§ª Running unit tests..."
pnpm test
if [ $? -ne 0 ]; then
  echo "âŒ Testes unitÃ¡rios falharam. Abortando commit."
  exit 1
fi

# Executar ai-commit.mjs
echo "ğŸ¤– Executando ai-commit.mjs..."
pnpm cz

echo "âœ… Todos os checks passaram. Commit bem-sucedido!"